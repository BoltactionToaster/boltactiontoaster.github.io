<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="UTF-8"/>

        <meta name="author" content="Jason Reppeto"/>
        <meta name="description" content="Jason Reppeto's Portfolio"/>

        <meta property="og:title" content="Jason Reppeto's Portfolio"/>
        <meta property="og:url" content="jasonreppeto.com"/>
        <meta property="og:type" content="website"/>
        <meta property="og:description" content="My own personal portfolio of different projects I've worked on."/>

        <title>Jason Reppeto's Portfolio</title>

        <link rel="stylesheet" href="style.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

        <link href="https://fonts.googleapis.com/css2?family=Special+Gothic:wght@400..700&display=swap" rel="stylesheet">

        <link id="codeTheme" rel="stylesheet" href="github-dark.css">
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/highlight.min.js"></script>

        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    </head>
<script>hljs.highlightAll();</script>

    <body>
        <div class="topnav">
            <div class="name-title">Jason Reppeto</div>
            <button id="switch" class="day-night-switch" onclick="toggleTheme()">‚òÄÔ∏è</button>

            <a class="desktop-item" href="./index.html">Home</a>
            <a class="desktop-item" href="./index.html#projects">Projects</a>
            <a class="desktop-item" href="./index.html#about">About</a>
            <a class="desktop-item" href="./index.html#contact">Contact</a>

            <a class="icon" onclick="toggleMobileNav()">
                <i class="fa fa-bars"></i>
            </a>

            <div id="mobile-items" class="mobile-items">
                <a class="mobile-item" href="./index.html">Home</a>
                <a class="mobile-item" href="./index.html#projects">Projects</a>
                <a class="mobile-item" href="./index.html#about">About</a>
                <a class="mobile-item" href="./index.html#contacts">Contact</a>
            </div>
        </div>
        <div class="articleContent">
            <h1 class="title">Titanfall Inspired Character Controller</h1>
            <h2 class="subtitle">A character controller with lots of fluid movement options.</h2>
            <p>This character controller was built to be similar to Titanfall's character controller. Additionally, it takes Lucio from Overwatch's wallride mechanics and combined them into a full FPS character controller. This system uses some of the systems I have built previously, namely my <a href="./fsm.html">Finite State Machine</a> and <a href="dbs.html">Data Binding System</a>.</p>

            <img class="image-centered" src="./images/State Machine Diagram With Transition Conditionals.webp" alt="Description of image">

            <p>To begin with, it uses a single state machine to organize all the states, with the original plan of states being shown in the adjacent image. This is potentially not ideal, depending on how complex the character must be. But it is an excellent showcase for how powerful the FSM system I built is when the system is typically used for enemy AI. There ended up being a few more states than in my original plan. For example, it was easier to separate wall riding into left and right wall riding than it was to keep it together as a single wall riding state.</p>

            <div class="image-text-container">
                <div class="text">
                    <p>The first state is the grounded state. The grounded state allows for walking, ground detection, as well as a variety of inputs. This is a very malleable state, where movement could be changed to suit the needs of the character controller. In this case in particular, I use some simple FPS movement.</p>
                </div>
                <img src="./images/wrcc-ground-original.jpg" alt="Description of image">
            </div>

            <div class="image-text-container">
                <img src="./images/wrcc-air-original.jpg" alt="Description of image">
                <div class="text">
                    <p>The aerial state is similar to the grounded state, but with the addition of gravity and altered movement dynamics. It would be trivial to add something like bunny hopping in a similar way to how DUSK achieves the same effect.</p>
                </div>
            </div>

            <div class="image-text-container">
                <div class="text">
                    <p>The dash state is very simple, all it needs is to reset the velocity and to go into the direction of movement.</p>
                </div>
                <img src="./images/wrcc-dash-original.jpg" alt="Description of image">
            </div>

            <div class="image-text-container">
                <img src="./images/wrcc-wallride-original.jpg" alt="Description of image">
                <div class="text">
                    <p>The wall ride state is a bit more complex, as it needs to follow along the wall even if it is curved, meaning it cannot be quite as simple as the dash state. However, it does not need to be as complex as the ground state either. Additionally, the wall ride state is split into left and right wall ride states due to the ease of creating actions that are required for it. This wall ride is closer to Lucio from Overwatch than Titanfall's, mostly because I find that wall ride more fun.</p>
                </div>
            </div>

            <div class="image-text-container">
                <div class="text">
                    <p>The jump state is merely a transitionary state to ensure that jumping isn't considered immediately grounded. Other than that, it uses an impulse boost to velocity in order to jump.</p>
                </div>
                <img src="./images/wrcc-jump-original.jpg" alt="Description of image">
            </div>

            <div class="image-text-container">
                <img src="./images/wrcc-ledge-original.jpg" alt="Description of image">
                <div class="text">
                    <p>The ledge grab state is the final state. Effectively, if ledges are labeled as grabbable by having a hitbox on the edge with the correct physics layer, it will pull the player up to the correct spot. There are additionally two variants. One for short ledges and one for high ledges, with different pull up speeds.</p>
                </div>
            </div>

            <p>While rough around the edges and arcady due to the lack of animations and general visual polish, this is mechanically very similar to Titanfall's character controller and is easily expandable and editable for a designer or programmer.</p>
        </div>

        <div class="bottom-bar">
            <div class="back-to-top" onclick="scrollToTop()">
                [Back to the Top]
            </div>
        </div>

        <script>
            // Wait for DOM to be fully loaded
            document.addEventListener('DOMContentLoaded', function() {
                const nav = document.querySelector(".topnav");
                let lastScrollY = window.scrollY;
                let currentY = 0;
                let baseHeight = -54;

                window.matchMedia("(orientation: portrait)").addEventListener("change", e => {
                    const portrait = window.matchMedia("(orientation: portrait)").matches;
                    
                    currentY = 0;
                    lastScrollY = window.scrollY;
                    document.querySelector(".topnav").style.setProperty("top", currentY + "px");
                });

                window.addEventListener("scroll", () => {
                    const portrait = window.matchMedia("(orientation: portrait)").matches;
                    
                    if(portrait === false)
                        return;

                    if(document.getElementById("mobile-items").classList.contains("active")) {
                        currentY = 0;
                        lastScrollY = window.scrollY;
                        return;
                    }

                    currentY += (lastScrollY - window.scrollY) * 0.5;

                    if (currentY < baseHeight)
                        currentY = baseHeight;
                    else if (currentY > 0)
                        currentY = 0;
                    

                    lastScrollY = window.scrollY;

                    document.querySelector(".topnav").style.setProperty("top", currentY + "px");
                });
            });
            
            function toggleTheme() {
                document.body.classList.toggle('dark-mode');
                
                let theme = document.getElementById('codeTheme');

                if(theme.getAttribute('href') == 'github-dark.css') {
                    theme.setAttribute('href', 'github.css');
                    document.getElementById('switch').innerHTML = 'üåô';
                }
                else {
                    theme.setAttribute('href', 'github-dark.css');
                    document.getElementById('switch').innerHTML = '‚òÄÔ∏è';
                }

            }

            function toggleMobileNav() {
                document.getElementById("mobile-items").classList.toggle("active");
                document.querySelector(".topnav").style.setProperty("top", "0px");
            }

            function scrollToTop() {
                document.body.scrollTop = 0;
                document.documentElement.scrollTop = 0;
            }
        </script>
    </body>

</html>